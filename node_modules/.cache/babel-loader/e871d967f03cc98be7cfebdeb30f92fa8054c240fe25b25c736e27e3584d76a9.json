{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Desktop\\\\Templates\\\\n projet\\\\dreamhouse-master\\\\src\\\\components\\\\HouseContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect } from 'react'; // import data\n\nimport { housesData } from '../data'; // create context\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HouseContext = /*#__PURE__*/createContext(); // provider\n\nconst HouseContextProvider = ({\n  children\n}) => {\n  _s();\n\n  const [houses, setHouses] = useState(housesData);\n  const [country, setCountry] = useState('Emplacement');\n  const [countries, setCountries] = useState([]);\n  const [property, setProperty] = useState('Type de propriété');\n  const [properties, setProperties] = useState([]);\n  const [price, setPrice] = useState('Fourchette de prix');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    // return all countries\n    const allCountries = houses.map(house => {\n      return house.country;\n    }); // remove duplicates\n\n    const uniqueCountries = ['Emplacement (au hasard)', ...new Set(allCountries)]; // set countries state\n\n    setCountries(uniqueCountries);\n  }, []);\n  useEffect(() => {\n    // return only countries\n    const allProperties = houses.map(house => {\n      return house.type;\n    }); // remove duplicates\n\n    const uniqueProperties = ['Type de propriété (au hasard)', ...new Set(allProperties)]; // set countries state\n\n    setProperties(uniqueProperties);\n  }, []);\n\n  const handleClick = () => {\n    setLoading(true); // check the string if includes '(any)'\n\n    const isDefault = str => {\n      return str.split(' ').includes('(au hasard)');\n    }; // get first string (price) and parse it to number\n\n\n    const minPrice = parseInt(price.split(' ')[0]); // get last string (price) and parse it to number\n\n    const maxPrice = parseInt(price.split(' ')[2]);\n    const newHouses = housesData.filter(house => {\n      const housePrice = parseInt(house.price); // all values are selected\n\n      if (house.country === country && house.type === property && housePrice >= minPrice && housePrice <= maxPrice) {\n        return house;\n      } // all values are default\n\n\n      if (isDefault(country) && isDefault(property) && isDefault(price)) {\n        return house;\n      } // country is not default\n\n\n      if (!isDefault(country) && isDefault(property) && isDefault(price)) {\n        return house.country === country;\n      } // property is not default\n\n\n      if (!isDefault(property) && isDefault(country) && isDefault(price)) {\n        return house.type === property;\n      } // price is not default\n\n\n      if (!isDefault(price) && isDefault(country) && isDefault(property)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house;\n        }\n      } // country and property is not default\n\n\n      if (!isDefault(country) && !isDefault(property) && isDefault(price)) {\n        return house.country === country && house.type === property;\n      } // country and price is not default\n\n\n      if (!isDefault(country) && isDefault(property) && !isDefault(price)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house.country === country;\n        }\n      } // property and price is not default\n\n\n      if (isDefault(country) && !isDefault(property) && !isDefault(price)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house.type === property;\n        }\n      }\n    });\n    setTimeout(() => {\n      return newHouses.length < 1 ? setHouses([]) : setHouses(newHouses), setLoading(false);\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(HouseContext.Provider, {\n    value: {\n      country,\n      setCountry,\n      countries,\n      property,\n      setProperty,\n      properties,\n      price,\n      setPrice,\n      handleClick,\n      houses,\n      loading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HouseContextProvider, \"rZXSaJnhJLNmEiaAtbkdH4QO2EU=\");\n\n_c = HouseContextProvider;\nexport default HouseContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"HouseContextProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","housesData","HouseContext","HouseContextProvider","children","houses","setHouses","country","setCountry","countries","setCountries","property","setProperty","properties","setProperties","price","setPrice","loading","setLoading","allCountries","map","house","uniqueCountries","Set","allProperties","type","uniqueProperties","handleClick","isDefault","str","split","includes","minPrice","parseInt","maxPrice","newHouses","filter","housePrice","setTimeout","length"],"sources":["C:/Users/Utilisateur/Desktop/Templates/n projet/dreamhouse-master/src/components/HouseContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\n// import data\nimport { housesData } from '../data';\n\n// create context\nexport const HouseContext = createContext();\n\n// provider\nconst HouseContextProvider = ({ children }) => {\n  const [houses, setHouses] = useState(housesData);\n  const [country, setCountry] = useState('Emplacement');\n  const [countries, setCountries] = useState([]);\n  const [property, setProperty] = useState('Type de propriété');\n  const [properties, setProperties] = useState([]);\n  const [price, setPrice] = useState('Fourchette de prix');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    // return all countries\n    const allCountries = houses.map((house) => {\n      return house.country;\n    });\n\n    // remove duplicates\n    const uniqueCountries = ['Emplacement (au hasard)', ...new Set(allCountries)];\n\n    // set countries state\n    setCountries(uniqueCountries);\n  }, []);\n\n  useEffect(() => {\n    // return only countries\n    const allProperties = houses.map((house) => {\n      return house.type;\n    });\n\n    // remove duplicates\n    const uniqueProperties = ['Type de propriété (au hasard)', ...new Set(allProperties)];\n\n    // set countries state\n    setProperties(uniqueProperties);\n  }, []);\n\n  const handleClick = () => {\n    setLoading(true);\n    // check the string if includes '(any)'\n    const isDefault = (str) => {\n      return str.split(' ').includes('(au hasard)');\n    };\n\n    // get first string (price) and parse it to number\n    const minPrice = parseInt(price.split(' ')[0]);\n    // get last string (price) and parse it to number\n    const maxPrice = parseInt(price.split(' ')[2]);\n\n    const newHouses = housesData.filter((house) => {\n      const housePrice = parseInt(house.price);\n      // all values are selected\n      if (\n        house.country === country &&\n        house.type === property &&\n        housePrice >= minPrice &&\n        housePrice <= maxPrice\n      ) {\n        return house;\n      }\n      // all values are default\n      if (isDefault(country) && isDefault(property) && isDefault(price)) {\n        return house;\n      }\n      // country is not default\n      if (!isDefault(country) && isDefault(property) && isDefault(price)) {\n        return house.country === country;\n      }\n      // property is not default\n      if (!isDefault(property) && isDefault(country) && isDefault(price)) {\n        return house.type === property;\n      }\n      // price is not default\n      if (!isDefault(price) && isDefault(country) && isDefault(property)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house;\n        }\n      }\n      // country and property is not default\n      if (!isDefault(country) && !isDefault(property) && isDefault(price)) {\n        return house.country === country && house.type === property;\n      }\n      // country and price is not default\n      if (!isDefault(country) && isDefault(property) && !isDefault(price)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house.country === country;\n        }\n      }\n      // property and price is not default\n      if (isDefault(country) && !isDefault(property) && !isDefault(price)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house.type === property;\n        }\n      }\n    });\n\n    setTimeout(() => {\n      return (\n        newHouses.length < 1 ? setHouses([]) : setHouses(newHouses),\n        setLoading(false)\n      );\n    }, 1000);\n  };\n\n  return (\n    <HouseContext.Provider\n      value={{\n        country,\n        setCountry,\n        countries,\n        property,\n        setProperty,\n        properties,\n        price,\n        setPrice,\n        handleClick,\n        houses,\n        loading,\n      }}\n    >\n      {children}\n    </HouseContext.Provider>\n  );\n};\n\nexport default HouseContextProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}