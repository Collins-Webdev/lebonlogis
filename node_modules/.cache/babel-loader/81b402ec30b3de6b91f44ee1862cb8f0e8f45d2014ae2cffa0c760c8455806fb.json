{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Utilisateur/Desktop/Templates/n projet/dreamhouse-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Utilisateur/Desktop/Templates/n projet/dreamhouse-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useEffect}from'react';// import data\nimport{housesData}from'../data';// create context\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var HouseContext=/*#__PURE__*/createContext();// provider\nvar HouseContextProvider=function HouseContextProvider(_ref){var children=_ref.children;var _useState=useState(housesData),_useState2=_slicedToArray(_useState,2),houses=_useState2[0],setHouses=_useState2[1];var _useState3=useState('Emplacement'),_useState4=_slicedToArray(_useState3,2),country=_useState4[0],setCountry=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),countries=_useState6[0],setCountries=_useState6[1];var _useState7=useState('Type de propriété'),_useState8=_slicedToArray(_useState7,2),property=_useState8[0],setProperty=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),properties=_useState10[0],setProperties=_useState10[1];var _useState11=useState('Fourchette de prix'),_useState12=_slicedToArray(_useState11,2),price=_useState12[0],setPrice=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];useEffect(function(){// return all countries\nvar allCountries=houses.map(function(house){return house.country;});// remove duplicates\nvar uniqueCountries=['Emplacement (au hasard)'].concat(_toConsumableArray(new Set(allCountries)));// set countries state\nsetCountries(uniqueCountries);},[]);useEffect(function(){// return only countries\nvar allProperties=houses.map(function(house){return house.type;});// remove duplicates\nvar uniqueProperties=['Type de propriété (au hasard)'].concat(_toConsumableArray(new Set(allProperties)));// set countries state\nsetProperties(uniqueProperties);},[]);var handleClick=function handleClick(){setLoading(true);// check the string if includes '(any)'\nvar isDefault=function isDefault(str){return str.split(' ').includes('(au hasard)');};// get first string (price) and parse it to number\nvar minPrice=parseInt(price.split(' ')[0]);// get last string (price) and parse it to number\nvar maxPrice=parseInt(price.split(' ')[2]);var newHouses=housesData.filter(function(house){var housePrice=parseInt(house.price);// all values are selected\nif(house.country===country&&house.type===property&&housePrice>=minPrice&&housePrice<=maxPrice){return house;}// all values are default\nif(isDefault(country)&&isDefault(property)&&isDefault(price)){return house;}// country is not default\nif(!isDefault(country)&&isDefault(property)&&isDefault(price)){return house.country===country;}// property is not default\nif(!isDefault(property)&&isDefault(country)&&isDefault(price)){return house.type===property;}// price is not default\nif(!isDefault(price)&&isDefault(country)&&isDefault(property)){if(housePrice>=minPrice&&housePrice<=maxPrice){return house;}}// country and property is not default\nif(!isDefault(country)&&!isDefault(property)&&isDefault(price)){return house.country===country&&house.type===property;}// country and price is not default\nif(!isDefault(country)&&isDefault(property)&&!isDefault(price)){if(housePrice>=minPrice&&housePrice<=maxPrice){return house.country===country;}}// property and price is not default\nif(isDefault(country)&&!isDefault(property)&&!isDefault(price)){if(housePrice>=minPrice&&housePrice<=maxPrice){return house.type===property;}}});setTimeout(function(){return newHouses.length<1?setHouses([]):setHouses(newHouses),setLoading(false);},1000);};return/*#__PURE__*/_jsx(HouseContext.Provider,{value:{country:country,setCountry:setCountry,countries:countries,property:property,setProperty:setProperty,properties:properties,price:price,setPrice:setPrice,handleClick:handleClick,houses:houses,loading:loading},children:children});};export default HouseContextProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","housesData","HouseContext","HouseContextProvider","children","houses","setHouses","country","setCountry","countries","setCountries","property","setProperty","properties","setProperties","price","setPrice","loading","setLoading","allCountries","map","house","uniqueCountries","Set","allProperties","type","uniqueProperties","handleClick","isDefault","str","split","includes","minPrice","parseInt","maxPrice","newHouses","filter","housePrice","setTimeout","length"],"sources":["C:/Users/Utilisateur/Desktop/Templates/n projet/dreamhouse-master/src/components/HouseContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\n// import data\nimport { housesData } from '../data';\n\n// create context\nexport const HouseContext = createContext();\n\n// provider\nconst HouseContextProvider = ({ children }) => {\n  const [houses, setHouses] = useState(housesData);\n  const [country, setCountry] = useState('Emplacement');\n  const [countries, setCountries] = useState([]);\n  const [property, setProperty] = useState('Type de propriété');\n  const [properties, setProperties] = useState([]);\n  const [price, setPrice] = useState('Fourchette de prix');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    // return all countries\n    const allCountries = houses.map((house) => {\n      return house.country;\n    });\n\n    // remove duplicates\n    const uniqueCountries = ['Emplacement (au hasard)', ...new Set(allCountries)];\n\n    // set countries state\n    setCountries(uniqueCountries);\n  }, []);\n\n  useEffect(() => {\n    // return only countries\n    const allProperties = houses.map((house) => {\n      return house.type;\n    });\n\n    // remove duplicates\n    const uniqueProperties = ['Type de propriété (au hasard)', ...new Set(allProperties)];\n\n    // set countries state\n    setProperties(uniqueProperties);\n  }, []);\n\n  const handleClick = () => {\n    setLoading(true);\n    // check the string if includes '(any)'\n    const isDefault = (str) => {\n      return str.split(' ').includes('(au hasard)');\n    };\n\n    // get first string (price) and parse it to number\n    const minPrice = parseInt(price.split(' ')[0]);\n    // get last string (price) and parse it to number\n    const maxPrice = parseInt(price.split(' ')[2]);\n\n    const newHouses = housesData.filter((house) => {\n      const housePrice = parseInt(house.price);\n      // all values are selected\n      if (\n        house.country === country &&\n        house.type === property &&\n        housePrice >= minPrice &&\n        housePrice <= maxPrice\n      ) {\n        return house;\n      }\n      // all values are default\n      if (isDefault(country) && isDefault(property) && isDefault(price)) {\n        return house;\n      }\n      // country is not default\n      if (!isDefault(country) && isDefault(property) && isDefault(price)) {\n        return house.country === country;\n      }\n      // property is not default\n      if (!isDefault(property) && isDefault(country) && isDefault(price)) {\n        return house.type === property;\n      }\n      // price is not default\n      if (!isDefault(price) && isDefault(country) && isDefault(property)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house;\n        }\n      }\n      // country and property is not default\n      if (!isDefault(country) && !isDefault(property) && isDefault(price)) {\n        return house.country === country && house.type === property;\n      }\n      // country and price is not default\n      if (!isDefault(country) && isDefault(property) && !isDefault(price)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house.country === country;\n        }\n      }\n      // property and price is not default\n      if (isDefault(country) && !isDefault(property) && !isDefault(price)) {\n        if (housePrice >= minPrice && housePrice <= maxPrice) {\n          return house.type === property;\n        }\n      }\n    });\n\n    setTimeout(() => {\n      return (\n        newHouses.length < 1 ? setHouses([]) : setHouses(newHouses),\n        setLoading(false)\n      );\n    }, 1000);\n  };\n\n  return (\n    <HouseContext.Provider\n      value={{\n        country,\n        setCountry,\n        countries,\n        property,\n        setProperty,\n        properties,\n        price,\n        setPrice,\n        handleClick,\n        houses,\n        loading,\n      }}\n    >\n      {children}\n    </HouseContext.Provider>\n  );\n};\n\nexport default HouseContextProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}